---
title: Режим предпросмотра
tags: 
date: "2025.07.30 18:46"
id: 8e6e003e61b384e59791f09abbd5e4e3
doc: watch_mode_ru
---

Режим предпросмотра позволяет в реальном времени отслеживать вносимые в сайт изменения. 
Удобно использовать при [интеграции с gulp](/+doc:gulp_ru).

---

Для включения режима предпросмотра нужно запустить Муху с параметром `-w` (`--watch`) :

```shell
mukha-ssg -w
```
Муха сгенерирует сайт и попытается открыть заглавную страницу в браузере по умолчанию. При внесении 
изменений в исходные файлы сайт будет динамически перегенерироваться. Во время отображения предпросмотра
никакие файлы не пишутся на диск, поэтому после завершения работы нужно будет сгенерировать новую 
версию отдельной командой.

## Автоматическая генерация после завершения предварительного просмотра

Если при запуске Мухи в режиме предпросмотра была явным образом указана выходная директория, то
после завершения работы внесенные изменения будут сохранены на диск.

```bash
mukha-ssg -o static -w
```
Ключ `-w` хорошо, но забавно сочетается с ключом `-c` ( `--cleanup` , удаление лишних файлов из выходной директории после генерации)

```shell
mukha-ssg -o static -wc
```

## Интеграция с редактором

Если в конфигурационном файле сайта установлена опция `edit_cmd` (имя текстового редактора), то  справа внизу 
у всех доступных для редактирования страниц появится панель с кнопками:

```@image
url: /px/watch_mode_buttons_2.png
classes:
  - noresize
```

- `edit` — открывает текущую страницу в текстовом редакторе.
- `new page` (или `+page`) — создает новую страницу в текущей _директории_.
- `new dir` (или `+dir`) — создает новую директорию в текущей _директории_ и файл index.md в ней.
-  `del` — удаляет текущую страницу.


В настоящий момент опция `edit_cmd` должна содержать одно «слово» — команду запуска редактора, имя файла будет передано
указанной команде в виде единственного параметра. 




