<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Integration with gulp :: Mukha SSG</title>
  <meta property="og:title" content="Integration with gulp" />
  <meta property="og:description" content="Mukha easily integrates into the development process with gulp, providing fast site preview in the browser and allowing the combination of css and site template development into a single process." />
  <link href="../../_theme/style.css" rel="stylesheet">
  <link href="../../_theme/highlight/styles/isbl-editor-dark.css" rel="stylesheet">
  <script src="../../_theme/navbar.js">
  </script>
  <script data-location="/en/docs/gulp_integration.html" src="../../_js/client.js">
</script>
  <script src="../../search_client.js"></script>
  <script src="../../_theme/masonry.js"></script>
  <script src="../../_theme/highlight/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({startOnLoad: true});
  </script>
</head>

<body>
<nav class="navbar is-primary" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <span class="navbar-item has-text-weight-bold has-text-white">
      <a href="../index.html" class="has-text-white">
        Mukha SSG
      </a>
    </span>

    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>
  <div id="navbarMenu" class="navbar-menu has-text-white">
    <div class="navbar-start"></div>

    <div class="navbar-end">
      <a class="navbar-item has-text-white" href="index.html">
        Documentation
      </a>
      <a class="navbar-item has-text-white" href="../examples/index.html">
        Examples
      </a>
      <div class="navbar-item">
        <input type="text" data-role="lunr-search" class="input is-small is-rounded"
          placeholder="Search"></input>
      </div></div>
  </div>
</nav>


<div class="container my-6 px-3 is-max-tablet" data-pagefind-body>

  <nav class="breadcrumb has-arrow-separator is-small" aria-label="breadcrumbs">
  <ul>
    <!-- <li><a href="../../index.html">üè†</a></li> -->
    <li><a href="../index.html">Mukha</a></li>
    <li><a href="index.html">Documentation</a></li>
  </ul>
</nav>

<h1 class="title is-1">Integration with gulp</h1>
<!--en-->
<div class="tags">
  <a class="tag is-medium" href="../../tags/recipes.html">Recipes</a>
</div>

  <div class="content mb-6">
    <p>Mukha easily integrates into the development process with gulp, providing fast
site preview in the browser and allowing the combination of
css and site template development into a single process.</p>
<p>With Mukha, extensions like Browsersync are not needed, as it contains a built-in
preview mode that does not write any files to disk, which is convenient
and environmentally friendly.</p>
<p>The provided example assumes that the site directory is located at
the top level of the project directory, and there is also a directory with
scss files.</p>
<p>Here's how you can define a gulp task:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> exec = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;child_process&quot;</span>).<span class="hljs-property">exec</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">watchSite</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">exec</span>(<span class="hljs-string">&quot;mukha-ssg -w&quot;</span>, { <span class="hljs-attr">cwd</span>: <span class="hljs-string">&quot;.&quot;</span> }, <span class="hljs-function">(<span class="hljs-params">err, out, stderr</span>) =&gt;</span> {
    out &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(out);
    stderr &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(stderr);
    err &amp;&amp; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  });
}

<span class="hljs-built_in">exports</span>.<span class="hljs-property">watchSite</span> = watchSite;
</code></pre>
<p>You can then run this task with the usual <code>gulp watchSite</code>. At the same time,
since Mukha tracks all changes in the site directory, you can simultaneously
run a task that will monitor changes in css and save updated
theme files:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> sass = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;gulp-sass&quot;</span>)(<span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;sass&quot;</span>));

<span class="hljs-comment">// This task generates css and saves it</span>
<span class="hljs-comment">// to the site theme folder.</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">buildCSS</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">src</span>(<span class="hljs-string">&quot;scss/style.scss&quot;</span>)
    .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">sass</span>().<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;error&quot;</span>, sass.<span class="hljs-property">logError</span>))
    .<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">dest</span>(<span class="hljs-string">&quot;site/config/themes/basic/assets/&quot;</span>));
}

<span class="hljs-comment">// This one monitors changes in the source files</span>
<span class="hljs-comment">// and triggers generation as needed.</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">watchCSS</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">watch</span>([<span class="hljs-string">&quot;scss/*.scss&quot;</span>], buildCSS);
}

<span class="hljs-built_in">exports</span>.<span class="hljs-property">watchCSS</span> = watchCSS;
</code></pre>
<p>Generating new css will trigger site regeneration
and browser preview updates.</p>
<p>This way, you can simultaneously work on theme templates and styles in
a single process. It's convenient to combine everything into one task:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">wactchAll</span>(<span class="hljs-params"></span>) {
  <span class="hljs-title function_">watchCSS</span>();
  <span class="hljs-title function_">watchSite</span>();
}

<span class="hljs-built_in">exports</span>.<span class="hljs-property">watchAll</span> = watchAll; <span class="hljs-comment">// gulp watchAll</span>
</code></pre>

    <button class="button is-small mt-4 has-text-weight-normal" id="viewSourceBtn">
      Page source
    </button>
    
  </div>





</div>
<div class="modal has-background-white" id="viewSource">
  <div class="modal-background"></div>
  <div class="modal-content px-2 py-2 has-background-white">
    <div style="font-family: Menlo, monospace;font-size:0.8rem">---<br />
title: Integration with gulp<br />
tags: Recipes<br />
doc: gulp_en<br />
---<br />
<br />
Mukha easily integrates into the development process with gulp, providing fast<br />
site preview in the browser and allowing the combination of<br />
css and site template development into a single process.<br />
<br />
With Mukha, extensions like Browsersync are not needed, as it contains a built-in<br />
preview mode that does not write any files to disk, which is convenient<br />
and environmentally friendly.<br />
<br />
The provided example assumes that the site directory is located at<br />
the top level of the project directory, and there is also a directory with<br />
scss files.<br />
<br />
Here&#39;s how you can define a gulp task:<br />
<br />
```javascript<br />
const exec = require(&quot;child_process&quot;).exec;<br />
<br />
async function watchSite() {<br />
  exec(&quot;mukha-ssg -w&quot;, { cwd: &quot;.&quot; }, (err, out, stderr) =&gt; {<br />
    out &amp;&amp; console.log(out);<br />
    stderr &amp;&amp; console.log(stderr);<br />
    err &amp;&amp; console.error(err);<br />
  });<br />
}<br />
<br />
exports.watchSite = watchSite;<br />
```<br />
<br />
You can then run this task with the usual `gulp watchSite`. At the same time,<br />
since Mukha tracks all changes in the site directory, you can simultaneously<br />
run a task that will monitor changes in css and save updated<br />
theme files:<br />
<br />
```javascript<br />
const sass = require(&quot;gulp-sass&quot;)(require(&quot;sass&quot;));<br />
<br />
// This task generates css and saves it<br />
// to the site theme folder.<br />
async function buildCSS() {<br />
  return src(&quot;scss/style.scss&quot;)<br />
    .pipe(sass().on(&quot;error&quot;, sass.logError))<br />
    .pipe(dest(&quot;site/config/themes/basic/assets/&quot;));<br />
}<br />
<br />
// This one monitors changes in the source files<br />
// and triggers generation as needed.<br />
async function watchCSS() {<br />
  return watch([&quot;scss/*.scss&quot;], buildCSS);<br />
}<br />
<br />
exports.watchCSS = watchCSS;<br />
```<br />
<br />
Generating new css will trigger site regeneration<br />
and browser preview updates.<br />
<br />
This way, you can simultaneously work on theme templates and styles in<br />
a single process. It&#39;s convenient to combine everything into one task:<br />
<br />
```javascript<br />
async function wactchAll() {<br />
  watchCSS();<br />
  watchSite();<br />
}<br />
<br />
exports.watchAll = watchAll; // gulp watchAll<br />
```<br />
</div>
  </div>
  <button class="modal-close is-large" id="unViewSource" aria-label="close"></button>
</div>
<script>
  const B = document.getElementById("viewSourceBtn");
  const M = document.getElementById("viewSource");
  const C = document.getElementById("unViewSource");
  B && B.addEventListener("click", () => M.classList.add("is-active"))
  C && C.addEventListener("click", () => M.classList.remove("is-active"))

</script>
<footer class="footer has-background-dark mt-auto" style="color: silver">
  <div class="content">
    <div class="container is-max-desktop px-3 is-size-7">
      <div class="columns">
        <div class="column m-footer-column py-0 has-text-white content">
          Made with Mukha</div>
        <div class="column m-footer-column py-0 has-text-white content">
          &copy; 2025...</div>
        <div class="column m-footer-column py-0 has-text-white content"><p>
</p></div>
      </div>
    </div>
  </div>
</footer>
</body>

</html>
